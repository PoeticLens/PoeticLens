<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Libby Nessworthy - Poetry Archive</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABLAAAASwCAYAAADdVJCQAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4xLjMsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy+AADFEAAAgAElEQVR4nOzdeZQdV33g/2+v3dIt2ZJsyZZlLd5kbMuAjTe8YGxwbDAeJgkkZELCJJPJZCaZyQyT/JJMMplM/pklk0kyJpBAAgESIBAIYAOGsWO8gHfJ1r5I3frdbXXt9f7+qKpX9Xqpe7u73bfv6+9nHR+7W9Wtu7eq3nv1vetWFUIQAAAAAAAAdKoQQhBCCCGEEEIIIYQQQgghhBBCCCGEUNyMMcZa24jXEULo9FsDAAAAOprN8wQhhBBC8Rf/ZQYhhBBCfzPGOGPth1966aUQQgirVq3qyJcxxtjRo0efNsZ86Utfyk8++eQwmzFCCCGEEEIIIYQQQgjFX2JjhGXZNuSLx1EQQgiheItt9QKOHTv2N9ba/19ra+tHZmdnjRBCCKGGhBBCCEEIQQihBQwhhJr+a1nWWmu/Yoz9I2vt3xtj/9gY+yJjrJ8x1s8Y6+/v7//J1NTU/5ybm1MhhFBdCiGEEEIIIYQQQgiheIu73rMsyzal7BCCYMw9IQQhhOIuthWr4Le4mj7++OPfNMZ8+uTJk5ZlWcEY4ZQQQgj1IhhjhRBBCOGnP/3pzwAA8KnLLrvsumAwuCkYDL57cHDwfcPDw++fm5t7x9zc3Dvn5ube1t/ff+2xY8f+dG5uTgghhBBCCCGEEEIIoRqKG30hhBBCCCGcPn365Omnn34KAAC88Y1vfNng4OC1AwMD7+3r63tPPB5/a19f39smJyevEkKIo0ePfkkIwYUQQgghhBBCCCGEEEIIIYQQQgg1Nex98NFHH73BGGOFEAIhhBBCSaM7jY2NveHgwYO/IYRwQgjHhRCEEEIIIYQQQgghhBBCCKGEijHGPvLII4/edPTo0eeOHj36tBDCCSE4IYQTQjghhOOdc+aPfexjt3z+85//t08//fTnjh07NiKEcEIIR4QQThBCCCGEEEIIIYQQQgghhBBCaLG9973v/dBHP/rR//a5z33ur0dGRn43MDDwyWAweGu73b5NKfU2pbSyLOsGY8w7Qwj3aq1/KIS4Vwjx+e7u7v93/PjxLwohj3dCCOeEECKeOHHir3/84x//n8cee+zfTU5OfnlycvLr09PT906fPn2fECKOAACfPffcc/91dHT039rt9l919fTcEg6Hr41GI+8MBgPvtizrOqX0Dca0mmP7BWO/YEx/yZj+CzD9BWu9L9ja/6Gt/Tetp/6HsvY/WGv/nTH2P1hr/5219t+sHf8Ha8f+wdjxv7fj/p2OPdOOO9ONe2Y69sx25pm5dsyZ69oxZ65px5y5ph1zZnM7Zm8zZmM7Zm8zZk8zZm8zZk8zZmM7Zm8zZm87Zm87Zk87Zm87Zk87Zm87Zm87Zm87Zk87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm87Zm8') center/cover fixed, rgba(232, 245, 232, 0.9);
            min-height: 100vh;
            color: #2d5016;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(45, 80, 22, 0.3), rgba(90, 138, 58, 0.2));
            z-index: -1;
        }

        /* Navigation */
        nav {
            background: rgba(45, 80, 22, 0.9);
            padding: 1rem 2rem;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.5rem;
            color: #90c695;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo-badge {
            width: 80px;
            height: 80px;
            background-image: url('https://cdn.leonardo.ai/users/550ed1ad-9fba-4d78-b281-b013ab57e8f0/generations/2bde07ae-f0b0-464b-9833-23982ee2f426/variations/Default_Design_a_natureinspired_badge_logo_featuring_the_styli_1_2bde07ae-f0b0-464b-9833-23982ee2f426_0.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            animation: randomSpin 8s ease-in-out infinite;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .logo-badge:hover {
            animation: continuousSpin 1s linear infinite;
        }

        @keyframes randomSpin {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(0deg); }
            30% { transform: rotate(360deg); }
            50% { transform: rotate(360deg); }
            75% { transform: rotate(360deg); }
            80% { transform: rotate(720deg); }
            100% { transform: rotate(720deg); }
        }

        @keyframes continuousSpin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .nav-buttons {
            display: flex;
            gap: 1rem;
        }

        .nav-btn {
            background: none;
            border: 2px solid #90c695;
            color: #90c695;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-btn:hover {
            background: #90c695;
            color: #2d5016;
            transform: translateY(-2px);
        }

        .nav-btn-leaf {
            position: absolute;
            top: -15px;
            right: -15px;
            width: 30px;
            height: 30px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0;
            transform: scale(0.5) rotate(-45deg);
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 10;
        }

        .nav-btn:hover .nav-btn-leaf {
            opacity: 1;
            transform: scale(1) rotate(0deg);
            animation: leafCycle 1.5s ease-in-out infinite;
        }

        @keyframes leafCycle {
            0%, 33% {
                background-image: url('https://cdn.leonardo.ai/users/550ed1ad-9fba-4d78-b281-b013ab57e8f0/generations/90eebbc0-16d8-416a-a0d5-b523d08a7f5c/variations/Default_A_vibrantly_colored_animated_leaf_with_intricate_veins_3_90eebbc0-16d8-416a-a0d5-b523d08a7f5c_0.png');
                transform: scale(1) rotate(0deg);
            }
            34%, 66% {
                background-image: url('https://cdn.leonardo.ai/users/550ed1ad-9fba-4d78-b281-b013ab57e8f0/generations/bfdb5525-80be-42a3-a089-8adf683db74a/variations/Default_A_vibrantly_colored_animated_leaf_with_intricate_veins_2_bfdb5525-80be-42a3-a089-8adf683db74a_0.png');
                transform: scale(1.1) rotate(120deg);
            }
            67%, 100% {
                background-image: url('https://cdn.leonardo.ai/users/550ed1ad-9fba-4d78-b281-b013ab57e8f0/generations/55365eb0-13d6-4127-92ae-43879ce919b3/variations/Default_A_vibrantly_colored_animated_leaf_with_intricate_veins_1_55365eb0-13d6-4127-92ae-43879ce919b3_0.png');
                transform: scale(1) rotate(240deg);
            }
        }

        /* Announcement bar */
        .announcement {
            background: #90c695;
            color: #2d5016;
            text-align: center;
            padding: 0.5rem;
            margin-top: 70px;
            font-weight: bold;
        }

        /* Main content */
        .main-content {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            min-height: calc(100vh - 120px);
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
        }

        /* Page styles */
        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Introduction Page */
        .intro-page {
            text-align: center;
            padding: 4rem 2rem;
        }

        .intro-title {
            font-size: 3rem;
            color: #2d5016;
            margin-bottom: 1rem;
            animation: fadeInUp 1s ease;
        }

        .intro-subtitle {
            font-size: 1.5rem;
            color: #5a8a3a;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease 0.3s both;
        }

        .intro-text {
            font-size: 1.2rem;
            line-height: 1.8;
            max-width: 800px;
            margin: 0 auto 3rem;
            animation: fadeInUp 1s ease 0.6s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Book styles */
        .book-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 600px;
            perspective: 1000px;
        }

        .book {
            width: 400px;
            height: 600px;
            position: relative;
            transform-style: preserve-3d;
            cursor: pointer;
        }

        .book-cover {
            position: absolute;
            width: 100%;
            height: 100%;
            background: url('https://octaneseating.com/blog/wp-content/uploads/2023/12/Pull-Up-Leather.png') center/cover, #8B4513;
            border-radius: 8px;
            box-shadow: 
                0 20px 40px rgba(0,0,0,0.3),
                inset 0 0 20px rgba(0,0,0,0.2),
                inset -5px 0 15px rgba(0,0,0,0.1);
            transform-origin: left;
            transition: transform 0.8s ease;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #FFD700;
            font-size: 1.5rem;
            text-align: center;
            padding: 2rem;
            position: relative;
            overflow: hidden;
            z-index: 2;
        }

        .book.open .book-cover {
            transform: rotateY(-180deg);
        }

        .book-cover-content {
            position: relative;
            z-index: 3;
            transition: opacity 0.3s ease;
        }

        .book.open .book-cover-content {
            opacity: 0;
        }

        .book-cover::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                135deg,
                rgba(139, 69, 19, 0.6) 0%,
                rgba(160, 82, 45, 0.4) 25%,
                rgba(139, 69, 19, 0.7) 50%,
                rgba(101, 67, 33, 0.6) 75%,
                rgba(139, 69, 19, 0.7) 100%
            );
            z-index: 1;
        }

        .book-cover > * {
            position: relative;
            z-index: 2;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            font-family: 'Times New Roman', serif;
            font-weight: bold;
        }

        .book-cover h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            letter-spacing: 2px;
        }

        .book-cover h3 {
            font-size: 1.2rem;
            font-style: italic;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .book-cover p {
            font-size: 0.9rem;
            opacity: 0.8;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }

        .book-pages {
            position: absolute;
            width: 95%;
            height: 95%;
            background: #f9f9f9;
            border-radius: 0 8px 8px 0;
            left: 5%;
            top: 2.5%;
            padding: 2rem;
            overflow-y: auto;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.1);
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s ease 0.3s;
            z-index: 1;
        }

        .book.open .book-pages {
            opacity: 1;
            visibility: visible;
        }

        .poetry-entry {
            margin-bottom: 3rem;
            padding: 1.5rem;
            border-left: 4px solid #90c695;
            background: rgba(144, 198, 149, 0.1);
            border-radius: 0 8px 8px 0;
        }

        .poetry-title {
            font-size: 1.3rem;
            color: #2d5016;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .poetry-content {
            line-height: 1.8;
            font-style: italic;
            white-space: pre-line;
        }

        .poetry-author {
            text-align: right;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #5a8a3a;
        }

        .poetry-image {
            width: 100%;
            max-width: 300px;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin: 1rem 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        /* Forms */
        .form-container {
            max-width: 600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #2d5016;
            font-weight: bold;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #90c695;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
        }

        .form-group textarea {
            height: 150px;
            resize: vertical;
        }

        .submit-btn {
            background: #90c695;
            color: #2d5016;
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .submit-btn:hover {
            background: #7ab87f;
            transform: translateY(-2px);
        }

        .submit-btn-leaf {
            position: absolute;
            top: -10px;
            right: 10px;
            width: 25px;
            height: 25px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0;
            transform: scale(0.5) rotate(-45deg);
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 10;
        }

        .submit-btn:hover .submit-btn-leaf {
            opacity: 1;
            transform: scale(1) rotate(0deg);
            animation: leafCycle 1.5s ease-in-out infinite;
        }

        /* Image preview styles */
        .image-preview {
            margin-top: 1rem;
            text-align: center;
        }

        .image-preview img {
            max-width: 200px;
            max-height: 200px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            object-fit: cover;
        }

        .remove-image-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-left: 0.5rem;
            transition: all 0.3s ease;
        }

        .remove-image-btn:hover {
            background: #c82333;
            transform: translateY(-1px);
        }

        /* Shop styles */
        .shop-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem 0;
        }

        .shop-item {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease;
        }

        .shop-item:hover {
            transform: translateY(-5px);
        }

        .shop-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .shop-item h3 {
            color: #2d5016;
            margin-bottom: 0.5rem;
        }

        .shop-item .price {
            font-size: 1.2rem;
            color: #90c695;
            font-weight: bold;
            margin: 0.5rem 0;
        }

        /* Admin styles */
        .admin-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .admin-section {
            margin-bottom: 3rem;
            padding: 1.5rem;
            border: 2px solid #90c695;
            border-radius: 10px;
        }

        .admin-section h3 {
            color: #2d5016;
            margin-bottom: 1rem;
            border-bottom: 2px solid #90c695;
            padding-bottom: 0.5rem;
        }

        .admin-poetry-item {
            border: 1px solid #90c695;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.8);
        }

        .admin-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .admin-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .admin-btn.edit {
            background: #ffc107;
            color: #212529;
        }

        .admin-btn.delete {
            background: #dc3545;
            color: white;
        }

        .admin-btn.save {
            background: #28a745;
            color: white;
        }

        .admin-btn.cancel {
            background: #6c757d;
            color: white;
        }

        .admin-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .edit-form {
            background: rgba(255, 255, 255, 0.95);
            border: 2px solid #90c695;
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
            display: none;
        }

        .edit-form.active {
            display: block;
        }

        .cooldown-message {
            background: rgba(255, 193, 7, 0.2);
            border: 2px solid #ffc107;
            color: #856404;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            text-align: center;
        }

        /* Floating elements */
        .floating-elements {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: -1;
        }

        .floating-leaf {
            position: absolute;
            width: 60px;
            height: 60px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            animation: float 8s ease-in-out infinite;
            opacity: 0.7;
        }

        .floating-leaf.leaf1 {
            background-image: url('https://cdn.leonardo.ai/users/550ed1ad-9fba-4d78-b281-b013ab57e8f0/generations/90eebbc0-16d8-416a-a0d5-b523d08a7f5c/variations/Default_A_vibrantly_colored_animated_leaf_with_intricate_veins_3_90eebbc0-16d8-416a-a0d5-b523d08a7f5c_0.png');
        }

        .floating-leaf.leaf2 {
            background-image: url('https://cdn.leonardo.ai/users/550ed1ad-9fba-4d78-b281-b013ab57e8f0/generations/bfdb5525-80be-42a3-a089-8adf683db74a/variations/Default_A_vibrantly_colored_animated_leaf_with_intricate_veins_2_bfdb5525-80be-42a3-a089-8adf683db74a_0.png');
        }

        .floating-leaf.leaf3 {
            background-image: url('https://cdn.leonardo.ai/users/550ed1ad-9fba-4d78-b281-b013ab57e8f0/generations/55365eb0-13d6-4127-92ae-43879ce919b3/variations/Default_A_vibrantly_colored_animated_leaf_with_intricate_veins_1_55365eb0-13d6-4127-92ae-43879ce919b3_0.png');
        }

        @keyframes float {
            0%, 100% { 
                transform: translateY(0px) rotate(0deg) scale(1); 
                opacity: 0.7;
            }
            25% { 
                transform: translateY(-15px) rotate(5deg) scale(1.1); 
                opacity: 0.8;
            }
            50% { 
                transform: translateY(-30px) rotate(10deg) scale(1); 
                opacity: 0.9;
            }
            75% { 
                transform: translateY(-15px) rotate(-5deg) scale(1.1); 
                opacity: 0.8;
            }
        }

        /* Notification styles */
        .notification {
            position: fixed;
            top: 120px;
            right: 20px;
            background: linear-gradient(135deg, #90c695, #7ab87f);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            z-index: 1001;
            cursor: pointer;
            transform: translateX(400px);
            transition: all 0.5s ease;
            max-width: 300px;
            backdrop-filter: blur(10px);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification:hover {
            transform: translateX(0) scale(1.05);
            box-shadow: 0 12px 35px rgba(0,0,0,0.4);
        }

        .notification-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .notification-content {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        @media (max-width: 768px) {
            .nav-buttons {
                flex-wrap: wrap;
                gap: 0.5rem;
            }
            
            .intro-title {
                font-size: 2rem;
            }
            
            .book {
                width: 300px;
                height: 450px;
            }
            
            .main-content {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Floating elements -->
    <div class="floating-elements">
        <div class="floating-leaf leaf1" style="left: 5%; top: 10%; animation-delay: 0s;"></div>
        <div class="floating-leaf leaf2" style="left: 85%; top: 15%; animation-delay: 1s;"></div>
        <div class="floating-leaf leaf3" style="left: 15%; top: 60%; animation-delay: 2s;"></div>
        <div class="floating-leaf leaf1" style="left: 75%; top: 70%; animation-delay: 3s;"></div>
        <div class="floating-leaf leaf2" style="left: 25%; top: 25%; animation-delay: 4s;"></div>
        <div class="floating-leaf leaf3" style="left: 65%; top: 40%; animation-delay: 5s;"></div>
        <div class="floating-leaf leaf1" style="left: 45%; top: 80%; animation-delay: 6s;"></div>
        <div class="floating-leaf leaf2" style="left: 90%; top: 50%; animation-delay: 7s;"></div>
        <div class="floating-leaf leaf3" style="left: 10%; top: 35%; animation-delay: 8s;"></div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo">
                <div class="logo-badge"></div>
                <span>Libby's Poetry Garden</span>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn" onclick="showPage('intro')">
                    Home
                    <div class="nav-btn-leaf"></div>
                </button>
                <button class="nav-btn" onclick="showPage('book')">
                    Libby's Poetry
                    <div class="nav-btn-leaf"></div>
                </button>
                <button class="nav-btn" onclick="showPage('user-book')">
                    Community Poetry
                    <div class="nav-btn-leaf"></div>
                </button>
                <button class="nav-btn" onclick="showPage('submit')">
                    Submit Poetry
                    <div class="nav-btn-leaf"></div>
                </button>
                <button class="nav-btn" onclick="showPage('shop')">
                    Shop
                    <div class="nav-btn-leaf"></div>
                </button>
                <button class="nav-btn" onclick="showPage('admin-login')">
                    Admin
                    <div class="nav-btn-leaf"></div>
                </button>
            </div>
        </div>
    </nav>

    <!-- Announcement Bar -->
    <div class="announcement" id="announcement">
        Welcome to Libby's Poetry Garden - Where Nature Meets Words ðŸŒ¸
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <div class="notification-title">
            <span>ðŸŒ¸</span>
            <span id="notification-title-text">New Poetry Added!</span>
        </div>
        <div class="notification-content" id="notification-content">
            Click to view the new poem in the Community Collection
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Introduction Page -->
        <div id="intro" class="page active">
            <div class="intro-page">
                <h1 class="intro-title">Libby Nessworthy</h1>
                <h2 class="intro-subtitle">Poet of Nature & Love</h2>
                <div class="intro-text" id="intro-text">
                    Welcome to my poetic sanctuary where the whispers of nature dance with the melodies of love. I am Libby Nessworthy, a passionate poet who finds inspiration in the rustling leaves, blooming flowers, and the eternal dance between earth and heart.

                    My journey began in the quiet moments of dawn, when dewdrops held the secrets of the universe, and in the gentle embrace of twilight, where love stories are written in starlight. Each poem is a bridge between the natural world and the depths of human emotion.

                    Here, you'll discover verses that celebrate the changing seasons of both nature and the heart, exploring how love grows like wildflowers and how our souls mirror the rhythms of the earth. Join me in this garden of words where every stanza blooms with authenticity and wonder.
                </div>
            </div>
        </div>

        <!-- Poetry Book Page -->
        <div id="book" class="page">
            <div class="book-container">
                <div class="book" id="poetry-book" onclick="toggleBook('poetry-book')">
                    <div class="book-cover">
                        <div class="book-cover-content">
                            <h2>Libby Nessworthy</h2>
                            <h3>Poetry Archive</h3>
                            <p style="margin-top: 2rem; font-size: 1rem;">Click to open</p>
                        </div>
                    </div>
                    <div class="book-pages" id="book-content">
                        <!-- Poetry entries will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- User Poetry Book Page -->
        <div id="user-book" class="page">
            <div class="book-container">
                <div class="book" id="user-poetry-book" onclick="toggleBook('user-poetry-book')">
                    <div class="book-cover">
                        <div class="book-cover-content">
                            <h2>Community</h2>
                            <h3>Poetry Collection</h3>
                            <p style="margin-top: 2rem; font-size: 1rem;">Click to open</p>
                        </div>
                    </div>
                    <div class="book-pages" id="user-book-content">
                        <!-- User poetry entries will be populated here -->
                    </div>
                </div>
            </div>
            
            <!-- User Poetry Section -->
            <div class="user-poetry-section">
                <h3>Community Poetry Entries</h3>
                <div class="user-poetry-grid" id="user-poetry-grid">
                    <!-- User poetry cards will be populated here -->
                </div>
            </div>
        </div>

        <!-- Poetry Submission Page -->
        <div id="submit" class="page">
            <div class="form-container">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #2d5016;">Share Your Poetry</h2>
                <div id="cooldown-notice" class="cooldown-message" style="display: none;">
                    Please wait before submitting another poem. Cooldown time remaining: <span id="cooldown-timer"></span>
                </div>
                <form id="poetry-form">
                    <div class="form-group">
                        <label for="poet-name">Your Name:</label>
                        <input type="text" id="poet-name" required>
                    </div>
                    <div class="form-group">
                        <label for="poem-title">Poem Title:</label>
                        <input type="text" id="poem-title" required>
                    </div>
                    <div class="form-group">
                        <label for="poem-content">Your Poem:</label>
                        <textarea id="poem-content" required placeholder="Share your beautiful words here..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="poem-image">Add an Image (optional):</label>
                        <input type="file" id="poem-image" accept="image/*">
                        <div id="poem-image-preview" class="image-preview"></div>
                    </div>
                    <button type="submit" class="submit-btn">
                        Plant Your Poetry ðŸŒ±
                        <div class="submit-btn-leaf"></div>
                    </button>
                </form>
            </div>
        </div>

        <!-- Shop Page -->
        <div id="shop" class="page">
            <h2 style="text-align: center; margin-bottom: 2rem; color: #2d5016;">Poetry Shop</h2>
            <div class="shop-grid" id="shop-items">
                <!-- Shop items will be populated here -->
            </div>
        </div>

        <!-- Admin Login Page -->
        <div id="admin-login" class="page">
            <div class="form-container">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #2d5016;">Admin Login</h2>
                <form id="admin-login-form">
                    <div class="form-group">
                        <label for="admin-username">Username:</label>
                        <input type="text" id="admin-username" required>
                    </div>
                    <div class="form-group">
                        <label for="admin-password">Password:</label>
                        <input type="password" id="admin-password" required>
                    </div>
                    <button type="submit" class="submit-btn">
                        Login
                        <div class="submit-btn-leaf"></div>
                    </button>
                </form>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="admin-panel" class="page">
            <div class="admin-panel">
                <h2 style="text-align: center; margin-bottom: 2rem; color: #2d5016;">Admin Panel</h2>
                
                <!-- Announcement Management -->
                <div class="admin-section">
                    <h3>Manage Announcement</h3>
                    <div class="form-group">
                        <label for="announcement-text">Announcement Text:</label>
                        <input type="text" id="announcement-text">
                    </div>
                    <button class="submit-btn" onclick="updateAnnouncement()">
                        Update Announcement
                        <div class="submit-btn-leaf"></div>
                    </button>
                </div>

                <!-- Intro Text Management -->
                <div class="admin-section">
                    <h3>Manage Introduction Text</h3>
                    <div class="form-group">
                        <label for="intro-text-admin">Introduction Text:</label>
                        <textarea id="intro-text-admin" style="height: 200px;"></textarea>
                    </div>
                    <button class="submit-btn" onclick="updateIntroText()">
                        Update Introduction
                        <div class="submit-btn-leaf"></div>
                    </button>
                </div>

                <!-- Poetry Management -->
                <div class="admin-section">
                    <h3>Manage Poetry Entries</h3>
                    
                    <!-- Add New Poetry Form -->
                    <div style="background: rgba(144, 198, 149, 0.1); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h4 style="color: #2d5016; margin-bottom: 1rem;">Add New Poetry Entry</h4>
                        <form id="admin-poetry-form">
                            <div class="form-group">
                                <label for="admin-poem-title">Poem Title:</label>
                                <input type="text" id="admin-poem-title" required>
                            </div>
                            <div class="form-group">
                                <label for="admin-poem-content">Poem Content:</label>
                                <textarea id="admin-poem-content" required style="height: 120px;"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="admin-poem-author">Author:</label>
                                <input type="text" id="admin-poem-author" required>
                            </div>
                            <div class="form-group">
                                <label for="admin-poem-image">Upload Image (optional):</label>
                                <input type="file" id="admin-poem-image" accept="image/*">
                                <div id="admin-poem-image-preview" class="image-preview"></div>
                            </div>
                            <button type="submit" class="submit-btn">
                                Add Poetry Entry
                                <div class="submit-btn-leaf"></div>
                            </button>
                        </form>
                    </div>
                    
                    <!-- Existing Poetry Entries -->
                    <h4 style="color: #2d5016; margin-bottom: 1rem;">Existing Poetry Entries</h4>
                    <div id="admin-poetry-list">
                        <!-- Poetry entries for admin management -->
                    </div>
                </div>

                <!-- Shop Management -->
                <div class="admin-section">
                    <h3>Manage Shop Items</h3>
                    <form id="shop-item-form">
                        <div class="form-group">
                            <label for="item-name">Item Name:</label>
                            <input type="text" id="item-name">
                        </div>
                        <div class="form-group">
                            <label for="item-description">Description:</label>
                            <textarea id="item-description"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="item-price">Price:</label>
                            <input type="text" id="item-price">
                        </div>
                        <div class="form-group">
                            <label for="item-image-file">Upload Image:</label>
                            <input type="file" id="item-image-file" accept="image/*">
                            <div id="item-image-preview" class="image-preview"></div>
                            <label for="item-image">Or Image URL:</label>
                            <input type="url" id="item-image">
                        </div>
                        <div class="form-group">
                            <label for="item-link">Link (optional):</label>
                            <input type="url" id="item-link">
                        </div>
                        <button type="submit" class="submit-btn">
                            Add Shop Item
                            <div class="submit-btn-leaf"></div>
                        </button>
                    </form>
                    <div id="admin-shop-list" style="margin-top: 2rem;">
                        <!-- Shop items for admin management -->
                    </div>
                </div>

                <button class="submit-btn" onclick="logout()" style="background: #dc3545; margin-top: 2rem;">
                    Logout
                    <div class="submit-btn-leaf"></div>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Data storage
        let poetryEntries = [
            {
                id: 1,
                title: "Wild Child",
                content: "The summer leaves whisper to me,\nCome out and play again, wild child,\nThe trees miss your untethered heart.\nThe summer birds sing to me,\nCome dance beneath us, wild child,\nUse our wings to lift your mind.\nThe summer beat of my footsteps on soil calls to me,\nLet go with each step, wild child,\nYour wildness makes you beautiful.\nThe summer sun on delicate, intricate petals feeds my soul,\nFeel it soak into your face, wild child,\nBe reborn, be home, be whole.\nShe still lingers within.",
                author: "Libby Nessworthy",
                isAdmin: true,
                image: "https://scontent-man2-1.xx.fbcdn.net/v/t39.30808-6/501631554_122156928800568294_5438287569295846653_n.jpg?stp=cp6_dst-jpg_s720x720_tt6&_nc_cat=105&ccb=1-7&_nc_sid=833d8c&_nc_ohc=RQB3upzL-WoQ7kNvwFawezN&_nc_oc=Adnu1kKFnOvThcD1sD_m3HAF2Rilwcz1kohYd-frGhrqDGSbyawRp2laxUm3txInL9Tki5ouQofWzmhwoFu3AZLp&_nc_zt=23&_nc_ht=scontent-man2-1.xx&_nc_gid=HmXyqXlHFRm8j_Lb6iS3XA&oh=00_AfI7WSzScSOglpImkWzNg6bCwWUiFVJ8aNN26TgpBhSrDA&oe=684264E6"
            },
            {
                id: 2,
                title: "Flowering",
                content: "Secret forest warmth,\nbeautiful, quiet breath,\nbeneath cycles of the moon,\nnature lighting my way,\npoetry pulsing through my fingertips,\nI am flowering here.",
                author: "Libby Nessworthy",
                isAdmin: true,
                image: "https://scontent-man2-1.xx.fbcdn.net/v/t39.30808-6/492123195_122150141522568294_1437317788203308205_n.jpg?stp=cp6_dst-jpg_s720x720_tt6&_nc_cat=104&ccb=1-7&_nc_sid=833d8c&_nc_ohc=g3c7k4gw534Q7kNvwHAXKgD&_nc_oc=Adn1hBjrbu_vAS5NOvxEd8-ePWeKShtkqle00mRo2Ep1zoWd-UeUQOK5KMCopD1B-htYTxQpC9lQAIL5-ymNJ1i_&_nc_zt=23&_nc_ht=scontent-man2-1.xx&_nc_gid=eIifBj0VfPFACNzIVQqSLQ&oh=00_AfJx8syap8I5ocvJ1N4b3a9tRyCqOWKvaghiWvAf6jtPKg&oe=684268E6"
            }
        ];

        let shopItems = [
            {
                id: 1,
                name: "Poetry Collection - 'Nature's Love'",
                description: "A beautiful hardcover collection of Libby's most beloved nature and love poems.",
                price: "$24.99",
                image: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'%3E%3Crect fill='%238B4513' width='300' height='200'/%3E%3Ctext x='50%' y='50%' text-anchor='middle' fill='gold' font-size='16' font-family='serif'%3EPoetry Book%3C/text%3E%3C/svg%3E",
                link: ""
            }
        ];

        let userSubmissions = [];
        let cooldownUsers = {};
        let isLoggedIn = false;
        let currentAnnouncement = "Welcome to Libby's Poetry Garden - Where Nature Meets Words ðŸŒ¸";
        let currentIntroText = "Welcome to my poetic sanctuary where the whispers of nature dance with the melodies of love. I am Libby Nessworthy, a passionate poet who finds inspiration in the rustling leaves, blooming flowers, and the eternal dance between earth and heart.\n\nMy journey began in the quiet moments of dawn, when dewdrops held the secrets of the universe, and in the gentle embrace of twilight, where love stories are written in starlight. Each poem is a bridge between the natural world and the depths of human emotion.\n\nHere, you'll discover verses that celebrate the changing seasons of both nature and the heart, exploring how love grows like wildflowers and how our souls mirror the rhythms of the earth. Join me in this garden of words where every stanza blooms with authenticity and wonder.";
        let latestPoetryId = null;

        // Navigation function
        function showPage(pageId) {
            console.log('Showing page:', pageId);
            
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            // Show selected page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }
            
            // Handle specific page logic
            if (pageId === 'book') {
                populateBook();
            } else if (pageId === 'user-book') {
                populateUserBook();
            } else if (pageId === 'user-book') {
                populateUserBook();
            } else if (pageId === 'shop') {
                populateShop();
            } else if (pageId === 'admin-panel') {
                if (isLoggedIn) {
                    populateAdminPanel();
                } else {
                    showPage('admin-login');
                    return;
                }
            } else if (pageId === 'submit') {
                checkCooldown();
            }
        }

        // Book functionality
        function toggleBook(bookId) {
            const book = document.getElementById(bookId);
            book.classList.toggle('open');
        }

        function populateBook() {
            const bookContent = document.getElementById('book-content');
            
            bookContent.innerHTML = poetryEntries.map(entry => `
                <div class="poetry-entry">
                    <div class="poetry-title">${entry.title}</div>
                    ${entry.image ? `<img src="${entry.image}" alt="${entry.title}" class="poetry-image">` : ''}
                    <div class="poetry-content">${entry.content}</div>
                    <div class="poetry-author">~ ${entry.author}</div>
                </div>
            `).join('');
        }

        function populateUserBook() {
            const userBookContent = document.getElementById('user-book-content');
            const userPoetryGrid = document.getElementById('user-poetry-grid');
            
            if (userSubmissions.length === 0) {
                userBookContent.innerHTML = `
                    <div class="poetry-entry">
                        <div class="poetry-title">Welcome to Community Poetry</div>
                        <div class="poetry-content">This beautiful collection will grow as poets like you share their voices. Be the first to add your poem to this community anthology!</div>
                        <div class="poetry-author">~ The Poetry Garden</div>
                    </div>
                `;
                userPoetryGrid.innerHTML = `
                    <div class="user-poetry-card">
                        <h4>No poems yet</h4>
                        <div class="author">~ Community</div>
                        <div class="preview">Be the first to share your poetry with our community! Click "Submit Poetry" to add your voice to this collection.</div>
                    </div>
                `;
            } else {
                userBookContent.innerHTML = userSubmissions.map(entry => `
                    <div class="poetry-entry" id="poem-${entry.id}">
                        <div class="poetry-title">${entry.title}</div>
                        ${entry.image ? `<img src="${entry.image}" alt="${entry.title}" class="poetry-image">` : ''}
                        <div class="poetry-content">${entry.content}</div>
                        <div class="poetry-author">~ ${entry.author}</div>
                    </div>
                `).join('');

                userPoetryGrid.innerHTML = userSubmissions.map(entry => `
                    <div class="user-poetry-card" onclick="viewPoetryInBook(${entry.id})">
                        <h4>${entry.title}</h4>
                        <div class="author">~ ${entry.author}</div>
                        <div class="preview">${entry.content.split('\n')[0]}...</div>
                    </div>
                `).join('');
            }
        }

        function viewPoetryInBook(poetryId) {
            const book = document.getElementById('user-poetry-book');
            if (!book.classList.contains('open')) {
                book.classList.add('open');
            }
            
            setTimeout(() => {
                const poemElement = document.getElementById(`poem-${poetryId}`);
                if (poemElement) {
                    poemElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    poemElement.style.background = 'rgba(144, 198, 149, 0.3)';
                    poemElement.style.transition = 'background 0.5s ease';
                    setTimeout(() => {
                        poemElement.style.background = 'rgba(144, 198, 149, 0.1)';
                    }, 2000);
                }
            }, 800);
        }

        function showNotification(title, content, poetryId = null) {
            const notification = document.getElementById('notification');
            const titleElement = document.getElementById('notification-title-text');
            const contentElement = document.getElementById('notification-content');
            
            titleElement.textContent = title;
            contentElement.textContent = content;
            
            notification.classList.add('show');
            
            notification.onclick = () => {
                hideNotification();
                if (poetryId) {
                    showPage('user-book');
                    setTimeout(() => viewPoetryInBook(poetryId), 500);
                }
            };
            
            setTimeout(() => {
                hideNotification();
            }, 5000);
        }

        function hideNotification() {
            const notification = document.getElementById('notification');
            notification.classList.remove('show');
            notification.onclick = null;
        }

        // Image handling functions
        function convertImageToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }

        function handleImagePreview(event, previewId) {
            const file = event.target.files[0];
            const preview = document.getElementById(previewId);
            
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.innerHTML = `
                        <img src="${e.target.result}" alt="Preview">
                        <button type="button" class="remove-image-btn" onclick="removeImagePreview('${previewId}', '${event.target.id}')">Remove</button>
                    `;
                };
                reader.readAsDataURL(file);
            } else {
                preview.innerHTML = '';
            }
        }

        function removeImagePreview(previewId, inputId) {
            document.getElementById(previewId).innerHTML = '';
            document.getElementById(inputId).value = '';
        }

        // Cooldown management
        function checkCooldown() {
            const poetName = document.getElementById('poet-name').value;
            const cooldownNotice = document.getElementById('cooldown-notice');
            const cooldownTimer = document.getElementById('cooldown-timer');
            
            if (poetName && cooldownUsers[poetName] && Date.now() < cooldownUsers[poetName]) {
                const remainingTime = Math.ceil((cooldownUsers[poetName] - Date.now()) / 1000 / 60);
                cooldownNotice.style.display = 'block';
                cooldownTimer.textContent = `${remainingTime} minutes`;
                
                const interval = setInterval(() => {
                    const remaining = Math.ceil((cooldownUsers[poetName] - Date.now()) / 1000 / 60);
                    if (remaining <= 0) {
                        cooldownNotice.style.display = 'none';
                        clearInterval(interval);
                    } else {
                        cooldownTimer.textContent = `${remaining} minutes`;
                    }
                }, 60000);
            } else {
                cooldownNotice.style.display = 'none';
            }
        }

        // Shop functionality
        function populateShop() {
            const shopContainer = document.getElementById('shop-items');
            shopContainer.innerHTML = shopItems.map(item => `
                <div class="shop-item">
                    <img src="${item.image}" alt="${item.name}" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'300\\' height=\\'200\\' viewBox=\\'0 0 300 200\\'%3E%3Crect fill=\\'%23f0f0f0\\' width=\\'300\\' height=\\'200\\'/%3E%3Ctext x=\\'50%\\' y=\\'50%\\' text-anchor=\\'middle\\' fill=\\'%23666\\' font-size=\\'14\\'%3ENo Image%3C/text%3E%3C/svg%3E'">
                    <h3>${item.name}</h3>
                    <p>${item.description}</p>
                    <div class="price">${item.price}</div>
                    ${item.link ? `<a href="${item.link}" target="_blank" style="color: #90c695; text-decoration: none;">View Item â†’</a>` : ''}
                </div>
            `).join('');
        }

        // Admin functionality
        function populateAdminPanel() {
            // Update announcement field
            document.getElementById('announcement-text').value = currentAnnouncement;
            
            // Update intro text field
            document.getElementById('intro-text-admin').value = currentIntroText;
            
            // Populate poetry management
            const poetryList = document.getElementById('admin-poetry-list');
            const allEntries = [...poetryEntries, ...userSubmissions];
            
            poetryList.innerHTML = allEntries.map(entry => `
                <div class="admin-poetry-item" id="poetry-${entry.id}">
                    <div class="poetry-display" id="display-${entry.id}">
                        <h4>${entry.title} by ${entry.author} ${entry.isAdmin ? '(Admin)' : '(User)'}</h4>
                        ${entry.image ? `<img src="${entry.image}" alt="${entry.title}" style="max-width: 200px; max-height: 150px; object-fit: cover; border-radius: 4px; margin: 0.5rem 0;">` : ''}
                        <p style="white-space: pre-line; font-style: italic;">${entry.content}</p>
                        <div class="admin-buttons">
                            <button class="admin-btn edit" onclick="editPoetry(${entry.id}, ${entry.isAdmin})">Edit</button>
                            <button class="admin-btn delete" onclick="deletePoetry(${entry.id}, ${entry.isAdmin})">Delete</button>
                        </div>
                    </div>
                    
                    <div class="edit-form" id="edit-${entry.id}">
                        <h4>Edit Poetry Entry</h4>
                        <div class="form-group">
                            <label>Title:</label>
                            <input type="text" id="edit-title-${entry.id}" value="${entry.title}">
                        </div>
                        <div class="form-group">
                            <label>Author:</label>
                            <input type="text" id="edit-author-${entry.id}" value="${entry.author}">
                        </div>
                        <div class="form-group">
                            <label>Content:</label>
                            <textarea id="edit-content-${entry.id}" style="height: 120px;">${entry.content}</textarea>
                        </div>
                        <div class="form-group">
                            <label>Change Image (optional):</label>
                            <input type="file" id="edit-image-${entry.id}" accept="image/*">
                            <div id="edit-image-preview-${entry.id}" class="image-preview">
                                ${entry.image ? `<img src="${entry.image}" alt="Current image"><button type="button" class="remove-image-btn" onclick="removeCurrentImage(${entry.id})">Remove Current Image</button>` : ''}
                            </div>
                        </div>
                        <div class="admin-buttons">
                            <button class="admin-btn save" onclick="savePoetryEdit(${entry.id}, ${entry.isAdmin})">Save Changes</button>
                            <button class="admin-btn cancel" onclick="cancelPoetryEdit(${entry.id})">Cancel</button>
                        </div>
                    </div>
                </div>
            `).join('');
            
            // Populate shop management
            const shopList = document.getElementById('admin-shop-list');
            shopList.innerHTML = shopItems.map(item => `
                <div style="border: 1px solid #90c695; padding: 1rem; margin: 1rem 0; border-radius: 8px;">
                    <h4>${item.name}</h4>
                    <p>${item.description}</p>
                    <p><strong>Price:</strong> ${item.price}</p>
                    <button class="admin-btn delete" onclick="deleteShopItem(${item.id})">Delete</button>
                </div>
            `).join('');
        }

        function updateAnnouncement() {
            currentAnnouncement = document.getElementById('announcement-text').value;
            document.getElementById('announcement').textContent = currentAnnouncement;
            alert('Announcement updated successfully!');
        }

        function updateIntroText() {
            currentIntroText = document.getElementById('intro-text-admin').value;
            document.getElementById('intro-text').textContent = currentIntroText;
            alert('Introduction text updated successfully!');
        }

        function editPoetry(id, isAdmin) {
            document.getElementById(`display-${id}`).style.display = 'none';
            document.getElementById(`edit-${id}`).classList.add('active');
        }

        function cancelPoetryEdit(id) {
            document.getElementById(`display-${id}`).style.display = 'block';
            document.getElementById(`edit-${id}`).classList.remove('active');
        }

        async function savePoetryEdit(id, isAdmin) {
            const title = document.getElementById(`edit-title-${id}`).value;
            const author = document.getElementById(`edit-author-${id}`).value;
            const content = document.getElementById(`edit-content-${id}`).value;
            
            let imageData = null;
            const imageFile = document.getElementById(`edit-image-${id}`).files[0];
            if (imageFile) {
                imageData = await convertImageToBase64(imageFile);
            }
            
            const entries = isAdmin ? poetryEntries : userSubmissions;
            const entryIndex = entries.findIndex(entry => entry.id === id);
            
            if (entryIndex !== -1) {
                entries[entryIndex].title = title;
                entries[entryIndex].author = author;
                entries[entryIndex].content = content;
                
                if (imageData) {
                    entries[entryIndex].image = imageData;
                }
                if (entries[entryIndex].removeImage) {
                    entries[entryIndex].image = null;
                    delete entries[entryIndex].removeImage;
                }
            }
            
            populateAdminPanel();
            alert('Poetry entry updated successfully!');
        }

        function deletePoetry(id, isAdmin) {
            if (confirm('Are you sure you want to delete this poetry entry?')) {
                if (isAdmin) {
                    poetryEntries = poetryEntries.filter(entry => entry.id !== id);
                } else {
                    userSubmissions = userSubmissions.filter(entry => entry.id !== id);
                }
                populateAdminPanel();
                alert('Poetry entry deleted successfully!');
            }
        }

        function deleteShopItem(id) {
            if (confirm('Are you sure you want to delete this shop item?')) {
                shopItems = shopItems.filter(item => item.id !== id);
                populateAdminPanel();
                alert('Shop item deleted successfully!');
            }
        }

        function removeCurrentImage(id) {
            const isAdmin = poetryEntries.find(entry => entry.id === id) ? true : false;
            const entries = isAdmin ? poetryEntries : userSubmissions;
            const entry = entries.find(entry => entry.id === id);
            if (entry) {
                entry.removeImage = true;
                document.getElementById(`edit-image-preview-${id}`).innerHTML = '<p style="color: #dc3545;">Image will be removed when changes are saved</p>';
            }
        }

        function logout() {
            if (confirm('Are you sure you want to logout?')) {
                isLoggedIn = false;
                showPage('intro');
                document.getElementById('admin-username').value = '';
                document.getElementById('admin-password').value = '';
                alert('You have been logged out successfully.');
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded, initializing...');
            
            // Set up form event listeners
            document.getElementById('poetry-form').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const authorName = document.getElementById('poet-name').value;
                
                if (cooldownUsers[authorName] && Date.now() < cooldownUsers[authorName]) {
                    alert('Please wait before submitting another poem.');
                    return;
                }
                
                let imageData = null;
                const imageFile = document.getElementById('poem-image').files[0];
                if (imageFile) {
                    imageData = await convertImageToBase64(imageFile);
                }
                
                const newEntry = {
                    id: Date.now(),
                    title: document.getElementById('poem-title').value,
                    content: document.getElementById('poem-content').value,
                    author: authorName,
                    image: imageData,
                    isAdmin: false
                };
                
                userSubmissions.push(newEntry);
                cooldownUsers[authorName] = Date.now() + (5 * 60 * 1000);
                latestPoetryId = newEntry.id;
                
                this.reset();
                document.getElementById('poem-image-preview').innerHTML = '';
                
                showNotification(
                    'New Poetry Added! ðŸŒ¸',
                    `"${newEntry.title}" by ${newEntry.author} has been added to the Community Collection`,
                    newEntry.id
                );
                
                alert('Your poetry has been submitted successfully! ðŸŒ¸\nYou can view it in the Community Poetry book.');
                checkCooldown();
            });

            document.getElementById('admin-login-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const username = document.getElementById('admin-username').value.trim();
                const password = document.getElementById('admin-password').value.trim();
                
                if (username === 'Nessworthy' && password === 'Nature') {
                    isLoggedIn = true;
                    alert('Login successful! Welcome to the admin panel.');
                    showPage('admin-panel');
                } else {
                    alert('Invalid credentials! Please check your username and password.');
                }
            });

            document.getElementById('admin-poetry-form').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                let imageData = null;
                const imageFile = document.getElementById('admin-poem-image').files[0];
                if (imageFile) {
                    imageData = await convertImageToBase64(imageFile);
                }
                
                const newEntry = {
                    id: Date.now(),
                    title: document.getElementById('admin-poem-title').value,
                    content: document.getElementById('admin-poem-content').value,
                    author: document.getElementById('admin-poem-author').value,
                    image: imageData,
                    isAdmin: true
                };
                
                poetryEntries.push(newEntry);
                this.reset();
                document.getElementById('admin-poem-image-preview').innerHTML = '';
                
                populateAdminPanel();
                alert('Poetry entry added successfully!');
            });

            document.getElementById('shop-item-form').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                let imageData = document.getElementById('item-image').value;
                const imageFile = document.getElementById('item-image-file').files[0];
                if (imageFile) {
                    imageData = await convertImageToBase64(imageFile);
                } else if (!imageData) {
                    imageData = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'%3E%3Crect fill='%23f0f0f0' width='300' height='200'/%3E%3Ctext x='50%' y='50%' text-anchor='middle' fill='%23666' font-size='14'%3ENo Image%3C/text%3E%3C/svg%3E";
                }
                
                const newItem = {
                    id: Date.now(),
                    name: document.getElementById('item-name').value,
                    description: document.getElementById('item-description').value,
                    price: document.getElementById('item-price').value,
                    image: imageData,
                    link: document.getElementById('item-link').value
                };
                
                shopItems.push(newItem);
                this.reset();
                document.getElementById('item-image-preview').innerHTML = '';
                populateAdminPanel();
                alert('Shop item added successfully!');
            });

            // Image preview event listeners
            document.getElementById('poem-image').addEventListener('change', function(e) {
                handleImagePreview(e, 'poem-image-preview');
            });

            document.getElementById('item-image-file').addEventListener('change', function(e) {
                handleImagePreview(e, 'item-image-preview');
            });

            document.getElementById('admin-poem-image').addEventListener('change', function(e) {
                handleImagePreview(e, 'admin-poem-image-preview');
            });

            document.getElementById('poet-name').addEventListener('input', checkCooldown);
            
            // Initialize floating elements positions
            const leaves = document.querySelectorAll('.floating-leaf');
            leaves.forEach((leaf, index) => {
                // Randomize animation duration for more natural movement
                const duration = 6 + Math.random() * 4; // 6-10 seconds
                leaf.style.animationDuration = duration + 's';
                
                // Add slight random positioning variations
                const currentLeft = parseFloat(leaf.style.left);
                const currentTop = parseFloat(leaf.style.top);
                leaf.style.left = (currentLeft + (Math.random() - 0.5) * 10) + '%';
                leaf.style.top = (currentTop + (Math.random() - 0.5) * 10) + '%';
            });

            console.log('Initialization complete!');
        });
    </script>
</body>
</html>